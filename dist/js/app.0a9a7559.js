(function(e){function t(t){for(var i,r,o=t[0],u=t[1],l=t[2],h=0,v=[];h<o.length;h++)r=o[h],s[r]&&v.push(s[r][0]),s[r]=0;for(i in u)Object.prototype.hasOwnProperty.call(u,i)&&(e[i]=u[i]);c&&c(t);while(v.length)v.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],i=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(i=!1)}i&&(a.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},s={app:0},a=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/vue-2048/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01f8":function(e,t,n){},"0399":function(e,t,n){},"2df3":function(e,t,n){"use strict";var i=n("0399"),s=n.n(i);s.a},"56d7":function(e,t,n){"use strict";n.r(t);var i=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Gameboard")],1)},a=[],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"autofocus",rawName:"v-autofocus"}],staticClass:"container",attrs:{id:"control",tabindex:"-1"},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:e.up(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:e.down(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])?null:"button"in t&&0!==t.button?null:e.left(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])?null:"button"in t&&2!==t.button?null:e.right(t)}]}},[n("Header",{attrs:{score:e.score},on:{newGame:e.newGame}}),n("div",{staticClass:"gameboard"},[e._l(16,function(e){return n("div",{key:e,staticClass:"grid-tile"},[n("div",{staticClass:"default-tile"})])}),e._l(e.tiles,function(e){return n("Tile",{key:e.id,attrs:{x:e.x,y:e.y,value:e.value}})}),n("YouWin",{attrs:{visible:e.youWin},on:{clickToContinue:e.continueGame}}),n("GameOver",{attrs:{visible:e.gameOver,score:e.score},on:{tryAgain:e.tryAgain}})],2),n("Footer")],1)},o=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("div",{staticClass:"header__brand"},[e._v("2048")]),n("div",{staticClass:"header__score"},[n("span",{staticClass:"header__score--title"},[e._v("score:")]),n("span",{staticClass:"header__score--amount"},[e._v(e._s(e.animatedScore))])]),n("div",{staticClass:"header__score"},[n("span",{staticClass:"header__score--title"},[e._v("best score:")]),n("span",{staticClass:"header__score--amount"},[e._v(e._s(e.animatedBestScore))])]),n("div",[n("button",{staticClass:"header__button",on:{click:e.newGame}},[n("strong",[e._v("New Game")])])])])},l=[],c={name:"Header",props:{score:Number},data:function(){return{bestScore:0,tweenedScore:0,tweenedBestScore:0}},computed:{animatedBestScore:function(){return this.tweenedBestScore.toFixed(0)},animatedScore:function(){return this.tweenedScore.toFixed(0)}},watch:{score:function(e){0==e&&(this.tweenedScore=this.score),TweenLite.to(this.$data,.5,{tweenedScore:e}),e>this.bestScore&&(this.bestScore=this.score)},bestScore:function(e){TweenLite.to(this.$data,.5,{tweenedBestScore:e})}},created(){},methods:{newGame:function(){this.$emit("newGame")}}},h=c,v=(n("dae4"),n("2877")),f=Object(v["a"])(h,u,l,!1,null,"0149d0c5",null),d=f.exports,p=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},m=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("footer",{staticClass:"footer"},[n("span",[n("strong",[e._v("vue-2048")]),e._v(" created by \n    "),n("a",{attrs:{href:"https://github.com/sparrow92"}},[e._v("sparrow92")]),e._v(". Check source code on  \n  ")]),n("a",{attrs:{href:"https://github.com/sparrow92/2048"}},[n("button",{staticClass:"footer__button"},[n("span",[n("img",{attrs:{src:"https://img.icons8.com/ios-glyphs/30/000000/github.png"}})]),n("span",[e._v("GitHub")])])])])}],b={name:"Footer"},_=b,w=(n("b6e1"),Object(v["a"])(_,p,m,!1,null,"b2d43e30",null)),g=w.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tile",style:e.style},[n("div",{class:["tile--default tile--"+e.value]},[e._v(e._s(e.value))])])},x=[],T={name:"Tile",props:{x:Number,y:Number,value:Number},computed:{style(){return`left: ${25*this.x}%; top: ${25*this.y}%`}}},k=T,C=(n("2df3"),Object(v["a"])(k,y,x,!1,null,null,null)),O=C.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gameover__container"},[n("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"gameover__background"})]),n("transition",{attrs:{"enter-active-class":"animated shake","leave-active-class":"animated bounceOutDown"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"gameover__content"},[n("h1",{staticClass:"gameover__heading"},[e._v("Game Over!")]),n("span",{staticClass:"gameover__text"},[e._v("Your score:"),n("strong",[e._v(" "+e._s(e.score))])]),n("button",{staticClass:"gameover__button",on:{click:e.tryAgain}},[e._v("Try Again!")])])])],1)},S=[],G={name:"GameOver",props:{visible:Boolean,score:Number},methods:{tryAgain:function(){this.$emit("tryAgain")}}},A=G,j=(n("b8dd"),Object(v["a"])(A,M,S,!1,null,"698fea4a",null)),$=j.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"youwin__container"},[n("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"youwin__background"})]),n("transition",{attrs:{"enter-active-class":"animated tada","leave-active-class":"animated bounceOutDown"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"youwin__content"},[n("h1",{staticClass:"youwin__heading"},[e._v("You Win!")]),n("span",{staticClass:"youwin__text"},[n("strong",[e._v("Congratulations!")])]),n("button",{staticClass:"youwin__button",on:{click:e.continueGame}},[e._v("Click to Continue")])])])],1)},P=[],R={name:"YouWin",props:{visible:Boolean},methods:{continueGame:function(){this.$emit("clickToContinue")}}},V=R,N=(n("6186"),Object(v["a"])(V,I,P,!1,null,"49f4d16a",null)),D=N.exports,W={name:"Gameboard",components:{Header:d,Footer:g,Tile:O,GameOver:$,YouWin:D},data:function(){return{gameOver:!1,youWin:!1,tiles:[],score:0,tileValue:0}},created(){this.newGame()},computed:{nextUp:function(){for(var e=!1,t=0;t<4;t++){var n=0,i=[];while(n<4)i.push(this.getTileValue(t,n)),n++;if(this.isMovePossible(i)){e=!0;break}}return e},nextRight:function(){for(var e=!1,t=0;t<4;t++){var n=3,i=[];while(n>=0)i.push(this.getTileValue(n,t)),n--;if(this.isMovePossible(i)){e=!0;break}}return e},nextDown:function(){for(var e=!1,t=0;t<4;t++){var n=3,i=[];while(n>=0)i.push(this.getTileValue(t,n)),n--;if(this.isMovePossible(i)){e=!0;break}}return e},nextLeft:function(){for(var e=!1,t=0;t<4;t++){var n=0,i=[];while(n<4)i.push(this.getTileValue(n,t)),n++;if(this.isMovePossible(i)){e=!0;break}}return e},noStep:function(){return!this.nextLeft&&!this.nextUp&&!this.nextRight&&!this.nextDown},popup:function(){return this.gameOver||this.youWin},largestTile:function(){var e=this.tiles,t=Math.max.apply(Math,e.map(function(e){return e.value}));return t}},watch:{noStep:function(e){e&&(this.gameOver=!0)},largestTile:function(e){2048==e&&(this.youWin=!0)}},methods:{newTile:function(e){for(var t=0;t<e;t++)if(this.tiles.length<17){do{var n=Math.floor(4*Math.random()),i=Math.floor(4*Math.random()),s=[2,2,2,2,2,2,2,2,2,4],a=Math.floor(Math.random()*s.length),r=this.getTileValue(n,i)}while(r>0);this.tiles.push({x:n,y:i,value:s[a],id:this.generateId()})}},tryAgain:function(){this.gameOver=!1,this.newGame()},continueGame:function(){this.youWin=!1},resetArray:function(){this.tiles=[]},newGame:function(){this.gameOver=!1,this.youWin=!1,this.resetArray(),this.score=0,this.newTile(2)},getTileValue:function(e,t){var n=this.tiles,i=n.map(function(n){return n.x==e&&n.y==t?n.value:null});return this.tileValue=Math.max.apply(null,i),Math.max.apply(null,i)},isMovePossible:function(e){var t=e.filter(function(e){return e>0}).length,n=e.slice(0,t);e=n;var i=!1;if(1==e.length&&0==e[0]&&(i=!0),e.length>1)for(var s=1;s<e.length;s++)if(e[s]==e[s-1]||0==e[s-1]||0==e[s]){i=!0;break}return i},up:function(){if(this.nextUp&&!this.popup){for(var e=0;e<4;e++){var t=0,n=[];while(t<4){var i=this.getTileValue(e,t),s=this.getTileIndex(e,t);i>0&&n.push(this.tiles[s]),t++}this.sortRow(n,0,-1)}this.newTile(1)}},left:function(){if(this.nextLeft&&!this.popup){for(var e=0;e<4;e++){var t=0,n=[];while(t<4){var i=this.getTileValue(t,e),s=this.getTileIndex(t,e);i>0&&n.push(this.tiles[s]),t++}this.sortRow(n,-1,0)}this.newTile(1)}},right:function(){if(this.nextRight&&!this.popup){for(var e=0;e<4;e++){var t=3,n=[];while(t>=0){var i=this.getTileValue(t,e),s=this.getTileIndex(t,e);i>0&&n.push(this.tiles[s]),t--}this.sortRow(n,1,0)}this.newTile(1)}},down:function(){if(this.nextDown&&!this.popup){for(var e=0;e<4;e++){var t=3,n=[];while(t>=0){var i=this.getTileValue(e,t),s=this.getTileIndex(e,t);i>0&&n.push(this.tiles[s]),t--}this.sortRow(n,0,1)}this.newTile(1)}},getTileIndex:function(e,t){var n=this.tiles.findIndex(function(n){return n.x==e&&n.y==t});return n},removeTile:function(e,t,n){setTimeout(()=>{var n=this.getTileIndex(e,t);this.tiles.splice(n,1)},n)},moveTile:function(e,t,n,i){return new Promise(s=>{var a=this.getTileIndex(e,t);this.tiles[a].x+=n,this.tiles[a].y+=i,s()})},doubleTile:function(e,t,n){setTimeout(()=>{var n=this.getTileIndex(e,t);this.tiles[n].id=this.generateId(),this.tiles[n].value*=2,this.score+=this.tiles[n].value},n)},moveAndRemove:function(e,t,n,i,s){this.moveTile(e,t,n,i).then(this.removeTile(e+n,t+i,s))},moveAndDouble:function(e,t,n,i,s){this.moveTile(e,t,n,i).then(this.doubleTile(e+n,t+i,s))},sortRow:function(e,t,n){var i,s=Math.abs(t),a=Math.abs(n);i=1==t||1==n?3:0;for(var r=0,o=i;r<e.length;r++,o+=-1*n+-1*t){var u=s*e[r].x+a*e[r].y,l=Math.abs(o-u);if("undefined"!==typeof e[r+1])var c=s*e[r+1].x+a*e[r+1].y,h=Math.abs(o-c);"undefined"!==typeof e[r+1]&&e[r].value==e[r+1].value?(this.moveAndRemove(e[r].x,e[r].y,t*l,n*l,100),this.moveAndDouble(e[r+1].x,e[r+1].y,t*h,n*h,100),r++):this.moveTile(e[r].x,e[r].y,t*l,n*l)}},generateId:function(){for(var e="",t="abcdefghijklmnopqrstuvwxyz0123456789",n=t.length,i=0;i<6;i++)e+=t.charAt(Math.floor(Math.random()*n));return e}}},E=W,L=(n("adee"),Object(v["a"])(E,r,o,!1,null,"5503f834",null)),B=L.exports,F={name:"app",components:{Gameboard:B}},U=F,Y=(n("5c0b"),Object(v["a"])(U,s,a,!1,null,null,null)),H=Y.exports,J=(n("77ed"),n("109c"),n("8a0a")),q=n.n(J);i["a"].directive("autofocus",q.a),i["a"].config.productionTip=!1,window.addEventListener("keydown",function(e){[32,37,38,39,40].indexOf(e.keyCode)>-1&&e.preventDefault()},!1),new i["a"]({render:function(e){return e(H)}}).$mount("#app")},"57d6":function(e,t,n){},"5c0b":function(e,t,n){"use strict";var i=n("5e27"),s=n.n(i);s.a},"5e27":function(e,t,n){},6186:function(e,t,n){"use strict";var i=n("dc40"),s=n.n(i);s.a},"87de":function(e,t,n){},"92c8":function(e,t,n){},adee:function(e,t,n){"use strict";var i=n("92c8"),s=n.n(i);s.a},b6e1:function(e,t,n){"use strict";var i=n("01f8"),s=n.n(i);s.a},b8dd:function(e,t,n){"use strict";var i=n("87de"),s=n.n(i);s.a},dae4:function(e,t,n){"use strict";var i=n("57d6"),s=n.n(i);s.a},dc40:function(e,t,n){}});
//# sourceMappingURL=app.0a9a7559.js.map